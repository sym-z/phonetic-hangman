[gd_scene load_steps=4 format=3 uid="uid://dt671ex55ahu4"]

[ext_resource type="Script" uid="uid://d1dc53onxbxxf" path="res://scenes/word_guesser/word_guesser.gd" id="1_510jw"]
[ext_resource type="Texture2D" uid="uid://b5d6cyjv0hplq" path="res://assets/prototyping/default-framing.png" id="2_510jw"]
[ext_resource type="PackedScene" uid="uid://bymrqbk1dvbjv" path="res://prefabs/word_bank/word_bank.tscn" id="4_510jw"]

[node name="Word Guesser" type="Control" node_paths=PackedStringArray("num_letters", "num_guesses", "guess_container", "selected_letters", "selected_example", "word_bank", "speaker", "type_submission_parent", "submission_field", "big_animation", "animation_marker")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1
script = ExtResource("1_510jw")
num_letters = NodePath("Guess State/Number of Letters")
num_guesses = NodePath("Guess State/Guesses Left")
guess_container = NodePath("Guess State/Current Guesses Container")
selected_letters = NodePath("Guessing Window/Phoeneme Sound")
selected_example = NodePath("Guessing Window/Word Example")
word_bank = NodePath("Word Bank")
speaker = NodePath("AudioStreamPlayer")
type_submission_parent = NodePath("Type Submission")
submission_field = NodePath("Type Submission/LineEdit")
big_animation = NodePath("Guessing Window/Big Animation Window/Current Guess")
animation_marker = NodePath("Guessing Window/Big Animation Window/Animation Marker")

[node name="BackgroundReference" type="Sprite2D" parent="."]
texture = ExtResource("2_510jw")
centered = false

[node name="Guess State" type="Node2D" parent="."]

[node name="Number of Letters" type="Label" parent="Guess State"]
offset_left = 577.0
offset_top = 27.0
offset_right = 676.0
offset_bottom = 50.0
text = "? ? ? ? ? ? ? ? ?"
horizontal_alignment = 1

[node name="Guesses Left" type="Label" parent="Guess State"]
offset_left = 520.0
offset_top = 63.0
offset_right = 738.0
offset_bottom = 86.0
text = "INCORRECT GUESSES LEFT: 3"

[node name="Current Guesses Container" type="HFlowContainer" parent="Guess State"]
offset_left = 357.0
offset_top = 164.0
offset_right = 930.0
offset_bottom = 365.0
alignment = 1

[node name="Hear Correct Guesses" type="Button" parent="Guess State"]
offset_left = 780.0
offset_top = 557.0
offset_right = 978.0
offset_bottom = 588.0
text = "HEAR CORRECT GUESSES"

[node name="Guess Whole Word" type="Button" parent="Guess State"]
offset_left = 1018.0
offset_top = 559.0
offset_right = 1192.0
offset_bottom = 590.0
text = "GUESS WHOLE WORD"

[node name="Guessing Window" type="Node2D" parent="."]
position = Vector2(966, 536)
scale = Vector2(1.39758, 1.30159)

[node name="Phoeneme Sound" type="Label" parent="Guessing Window"]
visible = false
offset_left = -504.443
offset_top = -387.219
offset_right = -362.444
offset_bottom = -364.219
text = "PHONEME SOUND"
horizontal_alignment = 1

[node name="Word Example" type="Label" parent="Guessing Window"]
visible = false
offset_left = -504.443
offset_top = -358.024
offset_right = -362.444
offset_bottom = -335.024
text = "WORD EXAMPLE"
horizontal_alignment = 1

[node name="Guess Sound" type="Button" parent="Guessing Window"]
visible = false
offset_left = -274.045
offset_top = -15.3658
offset_right = -154.045
offset_bottom = 15.6342
text = "GUESS SOUND"

[node name="Hear Sound" type="Button" parent="Guessing Window"]
visible = false
offset_left = -273.33
offset_top = 19.2073
offset_right = -153.33
offset_bottom = 50.2073
text = "HEAR SOUND"

[node name="Exit" type="Button" parent="Guessing Window"]
offset_left = -639.677
offset_top = 5.37806
offset_right = -520.677
offset_bottom = 36.3781
text = "EXIT TO MENU"

[node name="Big Animation Window" type="Control" parent="Guessing Window"]
visible = false
clip_contents = true
layout_mode = 3
anchors_preset = 0
offset_left = 36.0
offset_top = -94.0
offset_right = 163.0
offset_bottom = 34.0

[node name="Current Guess" type="AnimatedSprite2D" parent="Guessing Window/Big Animation Window"]
position = Vector2(63.4576, 64.2682)
scale = Vector2(0.45, 0.45)

[node name="Animation Marker" type="Marker2D" parent="Guessing Window/Big Animation Window"]
position = Vector2(63.4576, 64.0366)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]

[node name="Open Bank" type="Button" parent="."]
layout_mode = 0
offset_left = 438.0
offset_top = 548.0
offset_right = 544.0
offset_bottom = 579.0
text = "WORD BANK"

[node name="Word Bank" parent="." instance=ExtResource("4_510jw")]
visible = false
layout_mode = 1

[node name="Close Bank" type="Button" parent="Word Bank"]
layout_mode = 0
offset_left = 943.0
offset_top = 603.0
offset_right = 1103.0
offset_bottom = 634.0
text = "CLOSE WORD BANK"

[node name="Type Submission" type="Control" parent="."]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Panel" type="Panel" parent="Type Submission"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="LineEdit" type="LineEdit" parent="Type Submission"]
layout_mode = 0
offset_left = 341.0
offset_top = 345.0
offset_right = 986.0
offset_bottom = 376.0
placeholder_text = "TYPE GUESS HERE!"
alignment = 1

[node name="Submit" type="Button" parent="Type Submission"]
layout_mode = 0
offset_left = 568.0
offset_top = 384.0
offset_right = 740.0
offset_bottom = 415.0
text = "SUBMIT FINAL GUESS"

[node name="Submission Cancel" type="Button" parent="Type Submission"]
layout_mode = 0
offset_left = 621.0
offset_top = 425.0
offset_right = 671.0
offset_bottom = 456.0
text = "BACK"

[connection signal="pressed" from="Guess State/Hear Correct Guesses" to="." method="_on_hear_correct_guesses_pressed"]
[connection signal="pressed" from="Guess State/Guess Whole Word" to="." method="_on_guess_whole_word_pressed"]
[connection signal="pressed" from="Guessing Window/Guess Sound" to="." method="_on_guess_sound_pressed"]
[connection signal="pressed" from="Guessing Window/Hear Sound" to="." method="_on_hear_sound_pressed"]
[connection signal="pressed" from="Guessing Window/Exit" to="." method="_on_exit_pressed"]
[connection signal="finished" from="AudioStreamPlayer" to="." method="_on_audio_stream_player_finished"]
[connection signal="pressed" from="Open Bank" to="." method="_on_open_bank_pressed"]
[connection signal="pressed" from="Word Bank/Close Bank" to="." method="_on_close_bank_pressed"]
[connection signal="pressed" from="Type Submission/Submit" to="." method="_on_submit_pressed"]
[connection signal="pressed" from="Type Submission/Submission Cancel" to="." method="_on_submission_cancel_pressed"]
